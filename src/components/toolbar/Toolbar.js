import React, {useContext, useEffect, useState} from 'react';import '../toolbar/toolbarStyle.css'import logo from '../../logo/TS4 forum-logos.jpeg'import {Link, useNavigate} from "react-router-dom";import http from "../../plugins/http";import mainContext from "../../context/mainContext";import {MdOutlineFavorite, MdOutlinePostAdd} from "react-icons/md";import {BiUserCircle} from "react-icons/bi";import {HiOutlineLogout} from "react-icons/hi";import {ImNotification} from "react-icons/im";import Hamburger from "./Hamburger";import {BsList, BsX} from "react-icons/bs";const Toolbar = () => {    const nav = useNavigate()    const [favoritesCount, setFavoriteCount] = useState(0)    const [hamburgerTrigger, setHamburgerTrigger] = useState(false);    const {user, setUser, favoritesIds} = useContext(mainContext)    const notifications = user && user?.notifications.length !== 0    async function logout() {        const res = await http.get("/logout")        if (res.success) {            localStorage.removeItem("stayLoggedIn");            setUser(null);            nav('/')        }    }    useEffect(() => {        const values = JSON.parse(localStorage.getItem("favorites"));        if (values) {            setFavoriteCount(values.length);        }    }, [favoritesIds]);    return (        <div>            <div className='toolbar'>                <div className='logo'>                    <Link to='/'>                        <img src={logo} alt="Logo"/>                    </Link>                </div>                {notifications && <div className='toolbar-signup-login-wrap-auth notifications'>                    <Link to="/notifications">                        <p className="toolbar-auth-btn m-0">                            <ImNotification/>                            Notifications ({user?.notifications.length})                        </p>                    </Link>                </div>}                {user === null && <div className="toolbar-signup-login-wrap-auth">                    <Link to="/favorites">                        <p className="toolbar-auth-btn m-0">                            <MdOutlineFavorite/>                            Favorites ({favoritesCount})                        </p>                    </Link>                    <Link to="/authentic/login">                        <p className="toolbar-auth-btn">Login</p>                    </Link>                    <Link to="/authentic/register">                        <p className="toolbar-auth-btn">Register</p>                    </Link>                </div>}                {user && <div className="toolbar-signup-login-wrap">                    <div>                        <Link to="/create-topic">                            <p className="toolbar-auth-btn m-0">                                <MdOutlinePostAdd/>                                Create Topic                            </p>                        </Link>                    </div>                    <div className="toolbar-signup-login-wrap">                        <Link to="/user-profile">                            <p className="toolbar-auth-btn m-0">                                <BiUserCircle/>                                User Profile                            </p>                        </Link>                    </div>                    <div className="toolbar-signup-login-wrap">                        <p className="toolbar-auth-btn m-0" onClick={logout}>                            <HiOutlineLogout/>                            Logout                        </p>                    </div>                </div>}                {user && <div className="toolbar-burger">                    {!hamburgerTrigger ? (                        <BsList onClick={() => setHamburgerTrigger(!hamburgerTrigger)}/>                    ) : (                        <BsX onClick={() => setHamburgerTrigger(false)}/>                    )}                </div>}            </div>            <Hamburger favoritesCount={favoritesCount} hamburgerTrigger={hamburgerTrigger}                       setHamburgerTrigger={setHamburgerTrigger} notifications={notifications} logout={logout}/>        </div>    );};export default Toolbar;