import * as React from 'react';import Dialog from '@mui/material/Dialog';import DialogActions from '@mui/material/DialogActions';import DialogContent from '@mui/material/DialogContent';import DialogTitle from '@mui/material/DialogTitle';import {useRef, useState} from "react";import {Button} from "react-bootstrap";import http from "../../plugins/http";const ChangePhoto = ({showChangePhoto, setShowChangePhoto, setUser}) => {        const photoRef = useRef()        const [photoClass, setPhotoClass] = useState("form-control")        const [status, setStatus] = useState(null)        const [photo, setPhoto] = useState('');        function photoValidation() {            if (!photoRef.current.value.includes('http')) {                photoRef.current.value = ''                setStatus("Photo link should include \"http\"")                return setPhotoClass("form-control is-invalid")            }            if (photoRef.current.value.includes('http')) {                setPhoto(photoRef.current.value)                setStatus('')                setPhotoClass("form-control is-valid")            }        }        const handleClose = () => {            setShowChangePhoto(false);        };        async function changePhoto() {            photoValidation()            const newPhoto = {                photo            }            const res = await http.post('/change-user-photo', newPhoto)            if (!res.success) return setStatus(res.message)            if (res.success) {                setStatus(null)                setUser(res.user)                handleClose()            }        }        return (<div>            <Dialog                open={showChangePhoto}                onClose={handleClose}                aria-labelledby="alert-dialog-title"                aria-describedby="alert-dialog-description"            >                <DialogTitle>                    {"Enter new profile picture URL"}                </DialogTitle>                <DialogContent>                    <div className="d-flex flex-column justify-content-center">                        <div className="w-75">                            <input ref={photoRef} type="text" className={photoClass} onBlur={photoValidation}                                   placeholder="Profile picture URL" aria-label="Username"                                   aria-describedby="basic-addon1"                                   style={{                                       backgroundColor: '#f5f8fd', fontSize: '16px'                                   }}/>                        </div>                        <div>                            <p className="statusMessage">{status}</p>                        </div>                    </div>                </DialogContent>                <DialogActions>                    <Button className="inputStyle mb-2" variant='secondary' onClick={handleClose}>                        Cancel                    </Button>                    <Button onClick={changePhoto} className="inputStyle mb-2" variant='danger'>                        Change photo                    </Button>                </DialogActions>            </Dialog>        </div>);    };export default ChangePhoto;