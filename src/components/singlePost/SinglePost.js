import React, {useContext, useState} from 'react';import './singlePostStyle.css'import ReactPlayer from "react-player";import {BsReply} from "react-icons/bs";import mainContext from "../../context/mainContext";import AddPost from "../addPost/AddPost";const SinglePost = ({topic, setTopic}) => {    const {user} = useContext(mainContext)    const [showAddPost, setShowAddPost] = useState(false)    function getTime(day) {        const date = new Date(day)        const days = `${date.getFullYear()}:${date.getMonth() < 10 ? '0' + date.getMonth() : date.getMonth()}:${date.getDay() < 10 ? '0' + date.getDay() : date.getDay()}`        const hours = `${date.getHours()}:${date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()}:${date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds()}`        return {days, hours}    }    return (        <div className='single-post'>            <div className='topics-toolbar'>                <div className='flex-1'>{topic.topicOwnerInfo.username}</div>                <div                    className='flex-4'>{getTime(topic.uploadedTopic).days + ' ' + getTime(topic.uploadedTopic).hours}</div>            </div>            <div className='topic'>                <div className='flex-1'>                    <div className='profile-photo-username-wrap align-items-start'>                        <img className='userPhoto border-radius0' src={topic.topicOwnerInfo.photo} alt=""/>                        <div className="d-flex flex-column align-items-center">                            <p style={{fontSize: 12}}>User from: {getTime(topic.topicOwnerInfo.registered).days}</p>                            <p style={{fontSize: 12}}>Posts: {topic.topicOwnerInfo.posts}</p>                        </div>                    </div>                </div>                <div className='flex-4 '>                    <h3>{topic.title}</h3>                    <p>{topic.description}</p>                    <p>---------------------------------------------------------------------------------------------------------------------------------</p>                    <div className='pb-4'>                        {topic.photos.map((photo, i) => photo.includes('youtube') ?                            <div key={i} className='d-flex'>                                <div>                                    <ReactPlayer key={i} width={400} height={250} url={photo}/>                                </div>                            </div> :                            <div key={i} className='d-flex'>                                <div>                                    <img className='upload-picture' src={photo} alt=""/>                                </div>                            </div>)}                    </div>                </div>            </div>            {user && <div className='topics-toolbar justify-content-end'>                <div onClick={() => setShowAddPost(true)} className="toolbar-signup-login-wrap">                    <p className="toolbar-auth-btn m-0">                        <BsReply/>                        Add Post                    </p>                </div>            </div>}            <AddPost showAddPost={showAddPost} setShowAddPost={setShowAddPost} topicID={topic._id} setTopic={setTopic}/>        </div>    );};export default SinglePost;